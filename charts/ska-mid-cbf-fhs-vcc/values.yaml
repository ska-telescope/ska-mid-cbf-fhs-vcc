# Default values for ska-mid-cbf HELM chart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

display: ":0"
xauthority: "~/.Xauthority"

enabled: true

system: csp
subsystem: cbfmcs-mid
telescope: SKA-mid
engineeringConsoleVersion: 0.10.3
signalVerificationVersion: 0.2.16

labels:
  app: ska-mid-cbf-fhs-vcc

global:
  minikube: false
  exposeDatabaseDS: true
  exposeAllDS: false
  tango_host: databaseds-tango-base-test:10000
  dsconfig:
    image:
      registry: artefact.skao.int
      image: ska-tango-images-tango-dsconfig
      tag: 1.5.13
      pullPolicy: IfNotPresent

midcbf:
  image:
    registry: docker.io/library
    image: ska-mid-cbf-fhs-vcc
    tag: 0.0.1
    pullPolicy: IfNotPresent

resources:
  limits:
    cpu: 200m
    memory: 256Mi
    ephemeral-storage: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi  
    ephemeral-storage: 256Mi

instances:
  - name: fhs-vcc-1
    packetValidation:
      deviceId: packet_validation
    mac200:
      deviceId: ethernet_200g
    b123VccOsppfbChanneliser:
      deviceId: b123vcc
    frequencySliceSelection:
      deviceId: fs_selection_26_2_1
    widebandFrequencyShifter:
      deviceId: wideband_frequency_shifter
    widebandInputBuffer:
      deviceId: wideband_input_buffer
  - name: fhs-vcc-2
    packetValidation:
      deviceId: packet_validation
    mac200:
      deviceId: ethernet_200g
    b123VccOsppfbChanneliser:
      deviceId: b123vcc
    frequencySliceSelection:
      deviceId: fs_selection_26_2_1
    widebandFrequencyShifter:
      deviceId: wideband_frequency_shifter
    widebandInputBuffer:
      deviceId: wideband_input_buffer

deviceServers:
#### Keeping these commented out for now until decided on whether all in one pod is deemed best route to take
  # mac:
  #   enabled: true
  #   file: "data/mac.yaml"

  # packet-validation:
  #   enabled: true
  #   file: "data/packet_validation.yaml"

  # vcc:
  #   enabled: true
  #   file: "data/b123_vcc_osppfb_channeliser.yaml"

  # frequency-slice-selection:
  #   enabled: true
  #   file: "data/frequency_slice_selection.yaml"

  # wfs:
  #   enabled: true
  #   file: "data/wideband_frequency_shifter.yaml"

  # wib:
  #   enabled: true
  #   file: "data/wideband_input_buffer.yaml"
  fhs-vcc-stack:
    enabled: true
    file: "data/fhs_vcc_stack.yaml"


nodeSelector: {}

affinity: {}

tolerations: []

hostInfo:
  environment: "minikube"
  hostIP: "127.0.0.1"
  externalPort: 10001
  clusterDomain: cluster.local
  fhsServerId: fhs01
  configLocation: "/app/mnt/lowLevelConfigMap"

lowLevel:
  emulatorConfigPath: "/app/config/emulator"
  emulatorBaseUrl: "emulators.ska-mid-cbf-emulators.svc.cluster.local:5001"
  emulatorId: "emulator-1"
  firmwareRegistry: https://artefact.skao.int/repository/raw-internal
  firmwareImage: ska-mid-cbf-agilex-vcc
  firmwareVersion: 0.0.3

